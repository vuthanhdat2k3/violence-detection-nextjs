"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[24],{1308:(e,t,r)=>{r.d(t,{L:()=>g});var a=r(1498);class n{async detect(e){return console.log("Sử dụng chiến lược ph\xe1t hiện bạo lực"),new Promise(e=>{setTimeout(()=>{let t=Math.random()>.4;e({type:"violence",detected:t,confidence:t?70+25*Math.random():30*Math.random(),timestamp:new Date().toISOString(),processingTime:Math.floor(800*Math.random()+500),regions:t?[{x:.2,y:.3,width:.3,height:.4,confidence:.85},{x:.6,y:.4,width:.2,height:.3,confidence:.75}]:[],metadata:{violenceType:t?"physical":"none",severity:t?Math.floor(5*Math.random())+1:0}})},1500)})}getName(){return"Ph\xe1t hiện Bạo lực"}getDescription(){return"Ph\xe1t hiện c\xe1c h\xe0nh vi bạo lực thể chất trong video sử dụng m\xf4 h\xecnh học s\xe2u"}getAccuracy(){return 92.5}}class i{async detect(e){return console.log("Sử dụng chiến lược ph\xe1t hiện chuyển động"),new Promise(e=>{setTimeout(()=>{let t=Math.random()>.2;e({type:"movement",detected:t,confidence:t?80+15*Math.random():20*Math.random(),timestamp:new Date().toISOString(),processingTime:Math.floor(400*Math.random()+200),regions:t?[{x:.1,y:.2,width:.2,height:.3,confidence:.9},{x:.5,y:.3,width:.3,height:.4,confidence:.85},{x:.7,y:.6,width:.2,height:.3,confidence:.8}]:[],metadata:{movementType:t?"human":"none",speed:t?5*Math.random():0}})},800)})}getName(){return"Ph\xe1t hiện Chuyển động"}getDescription(){return"Ph\xe1t hiện v\xe0 theo d\xf5i chuyển động của người trong video"}getAccuracy(){return 95.8}}class s{async detect(e){return console.log("Sử dụng chiến lược ph\xe2n t\xedch h\xe0nh vi"),new Promise(e=>{setTimeout(()=>{let t=["normal","suspicious","violent","aggressive"],r=t[Math.floor(Math.random()*t.length)],a="violent"===r||"aggressive"===r;e({type:"behavior",detected:a,confidence:65+30*Math.random(),timestamp:new Date().toISOString(),processingTime:Math.floor(1200*Math.random()+800),regions:a?[{x:.3,y:.4,width:.4,height:.5,confidence:.8}]:[],metadata:{behaviorType:r,intensity:a?Math.floor(5*Math.random())+3:Math.floor(3*Math.random())}})},2e3)})}getName(){return"Ph\xe2n t\xedch H\xe0nh vi"}getDescription(){return"Ph\xe2n t\xedch chi tiết h\xe0nh vi người d\xf9ng để x\xe1c định c\xe1c mẫu h\xe0nh vi bất thường hoặc bạo lực"}getAccuracy(){return 88.3}}class o{static createStrategy(e){switch(e){case"violence":default:return new n;case"movement":return new i;case"behavior":return new s}}static getAvailableStrategies(){return[{id:"violence",name:new n().getName(),description:new n().getDescription(),accuracy:new n().getAccuracy()},{id:"movement",name:new i().getName(),description:new i().getDescription(),accuracy:new i().getAccuracy()},{id:"behavior",name:new s().getName(),description:new s().getDescription(),accuracy:new s().getAccuracy()}]}}class c{setStrategy(e){this.strategy=o.createStrategy(e)}async detectViolence(e){return this.strategy.detect(e)}getStrategyName(){return this.strategy.getName()}getStrategyDescription(){return this.strategy.getDescription()}getStrategyAccuracy(){return this.strategy.getAccuracy()}static getAvailableStrategies(){return o.getAvailableStrategies()}constructor(e="violence"){this.strategy=o.createStrategy(e)}}class d{async detectViolenceInVideo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"violence";try{this.detectionContext.setStrategy(t);let r=await this.detectionContext.detectViolence({videoFile:e}),a=this.convertToCompatibleResult(r);return this.createAlertIfNeeded(a,"Video Upload"),a}catch(e){throw console.error("Error detecting violence in video:",e),e}}async detectViolenceFromCamera(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"violence";try{this.detectionContext.setStrategy(t),await this.detectionContext.detectViolence({cameraId:e});return}catch(e){throw console.error("Error detecting violence from camera:",e),e}}getAvailableStrategies(){return c.getAvailableStrategies()}getRecentAlerts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return this.alertFactory.getAlerts().slice(0,e)}convertToCompatibleResult(e){return{fight:e.detected,percentageoffight:e.confidence.toFixed(2),processing_time_ms:e.processingTime.toString(),regions:e.regions||[],metadata:e.metadata||{},timestamp:e.timestamp,detectionType:e.type}}createAlertIfNeeded(e,t){if(e.fight&&void 0!==e.percentageoffight){let r=Number.parseFloat(e.percentageoffight);r>70&&this.alertFactory.createAlert(t,r,!0)}}constructor(){this.alertFactory=(0,a.bo)(),this.detectionContext=new c}}let l=null;function g(){return l||(l=new d),l}},1498:(e,t,r)=>{r.d(t,{bo:()=>o});class a{}class n{getVideoUrl(){return this.videoUrl}markAsReviewed(){this.status="reviewed"}dismiss(){this.status="dismissed"}constructor(e,t,r,a,n,i,s=null){this.id=e,this.location=t,this.time=r,this.confidence=a,this.status=n,this.hasVideo=i,this.videoUrl=s}}class i extends a{createAlert(e,t,r,a){let i=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),s=new n("alert".concat(this.alerts.length+1),e,"Today, ".concat(i),t,"new",r,a||null);return this.alerts.unshift(s),s}getAlerts(){return[...this.alerts]}getAlertById(e){return this.alerts.find(t=>t.id===e)}updateAlertStatus(e,t){let r=this.alerts.find(t=>t.id===e);return!!r&&(r.status=t,!0)}constructor(){super(),this.alerts=[],this.alerts.push(new n("alert1","Main Entrance","Today, 10:23 AM",87,"new",!0,"/alerts/alert1.mp4"),new n("alert2","Parking Lot","Yesterday, 8:45 PM",92,"reviewed",!0,"/alerts/alert2.mp4"),new n("alert3","Hallway","Yesterday, 3:12 PM",78,"new",!0,"/alerts/alert3.mp4"),new n("alert4","Cafeteria","Mar 18, 11:05 AM",83,"dismissed",!0,"/alerts/alert4.mp4"),new n("alert5","Main Entrance","Mar 17, 2:30 PM",75,"reviewed",!1))}}let s=null;function o(){return s||(s=new i),s}},3999:(e,t,r)=>{r.d(t,{cn:()=>i});var a=r(2596),n=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}},4964:(e,t,r)=>{r.d(t,{Xi:()=>c,av:()=>d,j7:()=>o,tU:()=>s});var a=r(5155);r(2115);var n=r(704),i=r(3999);function s(e){let{className:t,...r}=e;return(0,a.jsx)(n.bL,{"data-slot":"tabs",className:(0,i.cn)("flex flex-col gap-2",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)(n.B8,{"data-slot":"tabs-list",className:(0,i.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)(n.l9,{"data-slot":"tabs-trigger",className:(0,i.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)(n.UC,{"data-slot":"tabs-content",className:(0,i.cn)("flex-1 outline-none",t),...r})}},7168:(e,t,r)=>{r.d(t,{$:()=>c});var a=r(5155);r(2115);var n=r(9708),i=r(2085),s=r(3999);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:r,size:i,asChild:c=!1,...d}=e,l=c?n.DX:"button";return(0,a.jsx)(l,{"data-slot":"button",className:(0,s.cn)(o({variant:r,size:i,className:t})),...d})}},8482:(e,t,r)=>{r.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>i,aR:()=>s,wL:()=>l});var a=r(5155);r(2115);var n=r(3999);function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function s(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,n.cn)("flex items-center px-6 [.border-t]:pt-6",t),...r})}},9026:(e,t,r)=>{r.d(t,{Fc:()=>o,TN:()=>d,XL:()=>c});var a=r(5155);r(2115);var n=r(2085),i=r(3999);let s=(0,n.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,i.cn)(s({variant:r}),t),...n})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert-title",className:(0,i.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,i.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...r})}}}]);